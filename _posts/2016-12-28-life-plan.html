<h1 style="margin: 0 auto;">人生周计划</h1><br>


输入你的生日(xxxx-xx-xx): 
<input type="text" width="50px;" id="birth" onchange="count()" />
<input type="button" onclick="count()" value="go">
{{ excerpt_separator}}

<div class="mymain" id="mymain"></div>
<p style="clear: both;"></p>

<script type="text/javascript">
    window.onload = display();
    function display() {
        var m = document.getElementById('mymain');
        for (var i = 0; i < 80; i++) {
            var col = document.createElement('div');
            col.className = 'mycol';
            for (var j = 0; j < 52; j++) {
                var child = document.createElement('div');
                child.className = 'item';
                col.appendChild(child);
            }
            m.appendChild(col);
        }
    }

    function clear(){
        var col0 = document.getElementsByClassName('mycol')[0];
        for (var i = 0; i < 80; i++) {
            var e = col0.firstChild;
            for (var j = 0; j < 52; j++) {
                e.className = 'item';
                e = e.nextSibling;
            }
            col0 = col0.nextSibling;
        }
    }

    function count(){
        clear();
        var today = new Date();
        var birth = document.getElementById('birth').value.split('-');
	if (birth[0]>today.getFullYear() || birth[0] < today.getFullYear()-80
                || birth[1] > 12 || birth[1] < 1
                || birth[1] > 31 || birth[2] < 1) {
                alert("时间不符合要求，重新输入");
                return;
        }
        var birthdate = new Date(birth[0], birth[1]-1, birth[2]);
        var weeks = Math.floor((today - birthdate)/(1000*60*60*24*7));
        var old = parseInt(weeks/52, 10);
        var c = weeks%52;
        var col0 = document.getElementsByClassName('mycol')[0];
        for (var i = 0; i < old; i++) {
            var e = col0.firstChild;
            for (var j = 0; j < 52; j++) {
                e.className = 'pass';
                e = e.nextSibling;
            }
            col0 = col0.nextSibling;
        }
        var e = col0.firstChild;
        for (var i = 0; i < c; i++) {
            e.className = 'pass';
            e = e.nextSibling;
        }
        var p = document.getElementsByTagName('p')[0];
        var more = 4160 - weeks;
        p.innerText = '人的一生是短暂的，从出生到少年时期不懂得时间的宝贵，转眼长大成人。学业的重负耗尽了青春的时光，步入中年又因儿女的成长而两鬓斑白，最后步入老年常常疾病缠身。其中有多少时光是有意义的，有多少时光是白白浪费的，有多少是陪伴亲人度过的，又有多少时光是独自漂泊在外的。假如平平安安活到80岁，那么你已经度过了'+ weeks +'个星期，如今' + old + '岁的你在余下的' + more + '个星期还有什么梦想要实现呢，不要再拖延，不要再等了，马上行动才能防止时间在不经意间溜走。';
    }

</script>

<style type="text/css">
    .mymain {
        /*width: 100%;*/
	width: 1120px;
    }
    .mycol {
        float: left;
    }
    .item {
        margin: 3px;
        width: 8px;
        height: 8px;
        background-color: #cceecc;
    }
    .pass {
        margin: 3px;
        width: 8px;
        height: 8px;
        background-color: #ff0000;
    }
    p {
        margin: 30px auto;
        font-size: 16px;
        font-family: "Microsoft YaHei";
    }
</style>
